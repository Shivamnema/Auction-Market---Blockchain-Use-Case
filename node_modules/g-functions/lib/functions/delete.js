'use strict'

const generic = require('@nodeguy/generic')
const _ = generic._
const is = require('@nodeguy/type').is

const deleteFunction = generic.function({name: 'delete', curry: true})

// https://www.ecma-international.org/ecma-262/6.0/#sec-map.prototype.delete
deleteFunction.method([_, is(Map)],
  (key, map) =>
    map.deleteFunction(key)
)

// https://www.ecma-international.org/ecma-262/6.0/#sec-weakmap.prototype.delete
deleteFunction.method([_, is(WeakMap)],
  (key, weakMap) =>
    weakMap.deleteFunction(key)
)

// https://www.ecma-international.org/ecma-262/6.0/#sec-set.prototype.delete
deleteFunction.method([_, is(Set)],
  (value, set) =>
    set.deleteFunction(value)
)

// https://www.ecma-international.org/ecma-262/6.0/#sec-weakset.prototype.delete
deleteFunction.method([_, is(WeakSet)],
  (value, weakSet) =>
    weakSet.deleteFunction(value)
)

module.exports = deleteFunction
