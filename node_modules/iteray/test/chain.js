'use strict'

const assert = require('assert')
const I = require('../lib')

const duplicate = n => [n, n]

it('Array', function () {
  const input = [1, 2, 3]
  assert.deepEqual(I.chain(duplicate, input), [1, 1, 2, 2, 3, 3])
})

it('Iterable', function () {
  const input = I.to('Iterable', [1, 2, 3])
  assert.deepEqual(I.to(Array, I.chain(duplicate, input)), [1, 1, 2, 2, 3, 3])
})

it('AsyncIterable', function () {
  const input = I.to('AsyncIterable', [1, 2, 3])

  return I.to(Array, I.chain(duplicate, input)).then((array) => {
    assert.deepEqual(array, [1, 1, 2, 2, 3, 3])
  })
})
