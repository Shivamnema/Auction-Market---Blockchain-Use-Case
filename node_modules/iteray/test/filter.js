'use strict'

const assert = require('assert')
const I = require('../lib')

it('filters out all small values', function () {
  const isBigEnough = (value) =>
    value >= 10

  const filtered = I.filter(isBigEnough, [12, 5, 8, 130, 44])
  assert.deepEqual(filtered, [12, 130, 44])
})

it('Iterable', function () {
  const iterable = I.to('Iterable', [[0], 1, [2], 3, [4]])

  assert.deepEqual(
    I.to(Array, I.filter(Array.isArray, iterable)),
    [[0], [2], [4]]
  )
})

it('filters Objects', function () {
  const isEven = (x) =>
    x % 2 === 0

  assert.deepEqual(
    I.filter(
      (key, value) => isEven(key) || isEven(value),
      {1: 1, 2: 3, 3: 5, 4: 7}
    ),
    {2: 3, 4: 7}
  )
})
